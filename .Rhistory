install.packages("bigrquery")
install.packages("tidyverse")
install.packages("bigrquery")
install.packages("tidyverse")
install.packages("wk")
install.packages("bigrquery")
install.packages("tidyverse")
install.packages("wk")
install.packages("lubridate")
library(bigrquery)
library(tidyverse)
library(wk)
library(lubridate)
install.packages("bigrquery")
install.packages("bigrquery")
con <- dbConnect(
bigrquery::bigquery(),
project = "cyclistic-case-study-349908",
dataset = "cyclistic",
billing = "cyclistic-case-study-349908"
)
trips = tbl(con,"trips")
length_info <-
trips %>%
select(member_casual,started_at,length_min,rideable_type) %>%
collect() %>%
mutate(month_year = factor(format(started_at, "%y-%m")), levels =
c("May-21","Jun-21","Jul-21","Aug-21","Sep-21","Oct-21","Nov-21","Dec-21","Jan-22","Feb-22","Mar-22","Apr-22"))
length_info <-
trips %>%
select(member_casual,started_at,length_min,rideable_type) %>%
collect() %>%
mutate(month_year = factor(format(started_at, "%y-%m"), levels =
c("May-21","Jun-21","Jul-21","Aug-21","Sep-21","Oct-21","Nov-21","Dec-21","Jan-22","Feb-22","Mar-22","Apr-22")))
length_info %>%
filter(length_min<1440) %>%
group_by(rideable_type,member_casual) %>%
summarise(average_length = mean(length_min)) %>%
ggplot() + geom_col(aes(x=rideable_type,y=average_length,fill=member_casual),position = 'dodge') +
labs(fill="Member Type", x="Bike Type", y="Ride Length")
distance_info <-
trips %>%
select(member_casual,started_at,distance_m,rideable_type) %>%
collect() %>%
mutate(month_year = factor(format(started_at, "%y-%m"), levels =
c("May-21","Jun-21","Jul-21","Aug-21","Sep-21","Oct-21","Nov-21","Dec-21","Jan-22","Feb-22","Mar-22","Apr-22")))
